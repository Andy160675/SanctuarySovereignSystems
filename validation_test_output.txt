======================================================================
  SOVEREIGN RECURSION ENGINE — Full Test Harness
  CSS-ENG-TEST-001 | Slow and Right
======================================================================

======================================================================
  PHASE: Phase 0: Constitutional Ground Truth
======================================================================
  ✓ constitution loads from disk
  ✓ constitution validates successfully
  ✓ missing file raises BootError
  ✓ malformed JSON raises BootError
  ✓ get() returns frozen copies (mutation doesn't affect original)
  ✓ all 16 built-in invariant tests pass
  ✓ is_forbidden returns True for known forbidden states
  ✓ unknown failure type defaults to halt
  ✓ constitution rejects missing halt doctrine

======================================================================
  PHASE: Phase 1: Typed Signal Substrate
======================================================================
  ✓ factory creates valid signal with hash
  ✓ factory rejects invalid type
  ✓ factory rejects invalid domain
  ✓ factory rejects invalid authority
  ✓ factory rejects None payload
  ✓ signal integrity detects tampering
  ✓ bus accepts valid signals
  ✓ bus classifies halt signals to halt channel
  ✓ bus classifies escalation signals to escalation channel
  ✓ halted bus rejects non-halt signals
  ✓ drain returns signals in priority order

======================================================================
  PHASE: Phase 2: Router & Authority Kernel
======================================================================
  ✓ operational query routes to operator
  ✓ governance signal routes to innovator
  ✓ constitutional signal routes to steward
  ✓ emergency signal routes to steward
  ✓ halt signal triggers system halt
  ✓ inactive handler triggers escalation
  ✓ all handlers inactive → escalation exhausted → halt
  ✓ halted router rejects signals

======================================================================
  PHASE: Phase 3: Legality Gate
======================================================================
  ✓ valid signal passes legality gate
  ✓ tampered signal fails integrity check
  ✓ cross-authority direct call blocked
  ✓ cross-authority via router is allowed
  ✓ execution after halt is blocked
  ✓ silent escalation blocked
  ✓ steward override without dual key blocked
  ✓ containment event logged on termination
  ✓ custom legality rules enforced

======================================================================
  PHASE: Phase 4: Audit Ledger
======================================================================
  ✓ ledger writes entries with hash chain
  ✓ ledger verifies intact chain
  ✓ ledger detects corruption
  ✓ ledger truncates on corruption
  ✓ sealed ledger rejects writes
  ✓ boot validation succeeds on clean ledger

======================================================================
  PHASE: Phase 5: Timing & Halt
======================================================================
  ✓ timing enforcer measures within contract
  ✓ timing enforcer detects breach
  ✓ halt controller requires ledger validation for resume
  ✓ watchdog detects dead components

======================================================================
  PHASE: Phase 6: Failure Semantics
======================================================================
  ✓ router failure triggers halt
  ✓ audit failure triggers halt
  ✓ legality failure triggers escalation (not halt)
  ✓ health monitor tracks component status

======================================================================
  PHASE: Phase 7: Constitutional Configurator
======================================================================
  ✓ managerial archetype compiles successfully
  ✓ immutable archetype compiles with routing locked
  ✓ federated archetype compiles with quorum
  ✓ unknown archetype raises error
  ✓ all three archetypes listed

======================================================================
  PHASE: Phase 8: Full Engine Integration
======================================================================
  ✓ engine boots successfully
  ✓ engine processes valid operational signal
  ✓ engine processes governance signal to innovator
  ✓ engine processes constitutional signal to steward
  ✓ engine terminates tampered signal at legality gate
  ✓ engine audits every processed signal
  ✓ engine audits terminated signals too
  ✓ engine halt signal stops processing
  ✓ engine audit chain valid after mixed operations
  ✓ engine stats accurate after operations

======================================================================
  PHASE: Phase 9: Extension Scaffold
======================================================================
  ✓ compliant extension registers and activates
  ✓ extension modifying halt doctrine rejected
  ✓ extension modifying authority ladder rejected
  ✓ steward-level routing modification rejected for extensions
  ✓ non-compliant extension cannot activate

======================================================================
  PHASE: Adversarial Scenarios
======================================================================
  ✓ ADVERSARIAL: flood bus with 1000 signals — all processed or rejected cleanly
  ✓ ADVERSARIAL: interleave valid and tampered signals — audit stays valid
  ✓ ADVERSARIAL: halt then attempt processing — all blocked

======================================================================
  RESULTS: 74/74 passed, 0 failed
======================================================================

  ALL INVARIANTS HOLD
======================================================================

